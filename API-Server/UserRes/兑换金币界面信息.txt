*** Settings ***
Default Tags
Resource          ../Config/config.txt

*** variable ***


*** Test Cases ***
测试服获取install_token
    [Tags]    smoke
    测试服获取install_token    &{user_id}[user2]

smoke
    [Tags]    smoke
    ${response}=    兑换金币界面信息
    校验接口返回状态正常    ${response}

校验返回值当前钻石数量gems
    ${response}=    兑换金币界面信息
    校验接口返回状态正常    ${response}
    Should Be True    ${response.json()['data']['gems']} >= 0

校验返回值当前金币数量coins
    ${response}=    兑换金币界面信息
    校验接口返回状态正常    ${response}
    Should Be True    ${response.json()['data']['coins']} >= 0

校验返回值兑换需要钻石数量gems
    ${response}=    兑换金币界面信息
    校验接口返回状态正常    ${response}
    Should Be True    ${response.json()['data']['exg_scale']['gems']} > 0

校验返回值兑换金币数量coins
    ${response}=    兑换金币界面信息
    校验接口返回状态正常    ${response}
    Should Be True    ${response.json()['data']['exg_scale']['coins']} > 0

校验返回值素材url
    ${response}=    兑换金币界面信息
    校验接口返回状态正常    ${response}
    Should Not Be Equal As Strings    ${response.json()['data']['exg_scale']['url']}    ${empty}

校验返回值活动描述activity_desc
    ${response}=    兑换金币界面信息
    校验接口返回状态正常    ${response}
    Should Not Be Equal As Strings    ${response.json()['data']['activity_desc']}    ${empty}

校验返回值提示框文案提示desc
    ${response}=    兑换金币界面信息
    校验接口返回状态正常    ${response}
    Should Not Be Equal As Strings    ${response.json()['data']['charge_scale']['source']['desc']}    ${empty}

校验返回值提示跳转地址jump_url
    ${response}=    兑换金币界面信息
    校验接口返回状态正常    ${response}
    Should Not Be Equal As Strings    ${response.json()['data']['charge_scale']['source']['jump_url']}    ${empty}

校验返回值充值说明desc
    ${response}=    兑换金币界面信息
    校验接口返回状态正常    ${response}
    Should Not Be Equal As Strings    ${response.json()['data']['desc']}    ${empty}

校验返回值是否有红点has_new
    ${response}=    兑换金币界面信息
    校验接口返回状态正常    ${response}
    ${flag}=    Run Keyword If    ${response.json()['data']['has_new']} = '0'    or    ${response.json()['data']['has_new']} = '1'    Set Variable    true    # 是否有红点 1为有 0为没有
    Should Be Equal As Strings    ${flag}    true



